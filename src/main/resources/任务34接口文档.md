# 3.工厂建模接口

## 3.1获取工厂建模数据列表

### 3.1.1基本信息

请求路径：/factory/getFactoryModeling

请求方式：GET

接口描述：获取工厂建模所有数据，可以按生产线名称查询(分页查询)

### 3.1.2请求参数
请求参数格式：queryString 
请求参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| pageNumber| number          | 当前所在页          |
| pageSize| number          | 页面大小     |
| search| string| 搜索内容       |
请求数据样例：
pageNumber=1&pageSize=2
或
pageNumber=1&pageSize=2&search=A
```备注：search非必须,用以查询生成线名称```
### 3.1.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| factoryId| number          | 生产线id          |
| productionLine| string| 生产线名称       |
| product|string   |产品名称        |
| productModel| string      | 产品型号                |
| productSpecification| string    | 产品规格                |
| productUnit   | string   | 产品单位                |
| description   |  string      | 描述               |
| materialId   | number      | 物料档案ID               |
| created_at         | string    | 创建时间                 |
| updated_at         | string    | 更新时间                 |
响应数据样例：
```
[

{

"factoryId": 1,

"productionLine": "生产线A",

"product": "产品A",

"productModel": "型号A1",

"productSpecification": "规格A1",

"productUnit": null,

"description": "描述A1",

"materialId": 101,

"createdAt": "2024-11-01 08:30:00",

"updatedAt": "2024-11-26 20:00:14"

},

{

"factoryId": 2,

"productionLine": "生产线B",

"product": "产品B",

"productModel": "型号B1",

"productSpecification": "规格B1",

"productUnit": null,

"description": "描述B2",

"materialId": 102,

"createdAt": "2024-11-02 09:00:00",

"updatedAt": "2024-11-02 09:00:00"

}

]
```
## 3.2修改工厂建模信息
### 3.2.1基本信息

请求路径：/factory/updateFactory

请求方式：PUT

接口描述：修改工厂建模信息

### 3.2.2请求参数
请求参数格式：application/json 
请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| factoryId| number|生产线id      | 是  |    |
| productionLine| string|生产线名称       | 是  |    |
| product| string     | 产品       |   是 |     |
|productModel| string| 产品型号   | | 从查询物料接口获取 |
|productSpecification| string| 产品规格                 | | 从查询物料接口获取 |
|description| string|描述              | |  |
|materialId| number| 物料id                | | 从查询物料接口获取 |
|productUnit| string| 产品单位             | | 从查询物料接口获取 |
请求数据样例：
```
{
"factoryId": 1,

"productionLine": "生产线A",

"product": "产品A",

"productModel": "型号A1",

"productSpecification": "规格A1",

"description": "描述A1",

"materialId": 101,

"productUnit": "吨"

}
```

### 3.2.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
响应数据样例：
```
{

"code": 200,

"msg": "更新成功",

"data": null

}
```
## 3.3获取物料信息列表
### 3.3.1基本信息

请求路径：/factory/material

请求方式：GET

接口描述：按分类获取物料信息列表

### 3.3.2请求参数
请求参数格式：queryString 
请求参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| materialType| string         | 物料类型         |
请求数据样例：
materialType=成品
```备注：materialType非必须,不传参则查询所有数据```
### 3.3.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
| \|-materialId      | number       | 编号                 |
| \|-materialCode      | string     | 物料编码                 |
| \|-materialName      | string    | 物料名称                 |
| \|-materialModel       | string         | 型号 |
| \|-materialSpec |  string      | 规格               |
| \|-materialUnit  |  string   | 单位               |
| \|-materialPrice   |number        | 单价                     |
| \|-materialType   |string       | 类型                     |
| \|-materialRemark   |string       | 备注                    |
| \|-created_at         | string    | 创建时间                 |
| \|-updated_at         | string    | 更新时间                 |
响应数据样例：
```
{

"code": 200,

"msg": "操作成功",

"data": [

{

"materialId": 2,

"materialCode": "102",

"materialName": "电机",

"materialModel": "XD-220",

"materialSpec": "220V/50Hz",

"materialUnit": "台",

"materialPrice": 1200.00,

"materialType": "成品",

"materialRemark": "适配中型设备",

"createdAt": "2024-11-26 14:13:05",

"updatedAt": "2024-11-26 14:32:45"

}

]

}
```
## 3.4查询产品建模信息
### 3.4.1基本信息

请求路径：/factory/equipment

请求方式：GET

接口描述：按工厂id查询产品建模信息

### 3.4.2请求参数
请求参数格式：queryString 
请求参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| factoryId| number        | 工厂id        |
请求数据样例：
factoryId=1
### 3.4.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
| \|-equipmentId      | number     | 设备id                |
| \|-equipmentName      | string     | 设备                |
| \|-equipmentCode      | string     | 编码，此数据绑定于工厂id      |
| \|-equipmentModel     | string    | 型号                 |
| \|-productionDate |  string      | 生产日期               |
| \|-productionBatch  |  string   | 生产批号              |
| \|-manufacturer   |string       | 制造商                  |
响应数据样例：
```
{

"code": 200,

"msg": "操作成功",

"data": [

{

"equipmentId": 1,

"equipmentCode": "1",

"equipmentName": "焊接机器人",

"equipmentModel": "WR-500",

"equipmentSpec": "500kg负载",

"manufacturer": "ABB Robotics",

"productionDate": "2023-05-10",

"productionBatch": "BATCH-202305",

"createdAt": "2024-11-26 14:49:38",

"updatedAt": "2024-11-26 18:54:38"

},

{

"equipmentId": 2,

"equipmentCode": "1",

"equipmentName": "数控机床",

"equipmentModel": "CNC-T1000",

"equipmentSpec": "XYZ-500x300x400",

"manufacturer": "Fanuc",

"productionDate": "2022-11-15",

"productionBatch": "BATCH-202211",

"createdAt": "2024-11-26 14:49:38",

"updatedAt": "2024-11-26 18:54:38"

}

]

}
```
## 3.5添加产品建模信息
### 3.5.1基本信息

请求路径：/factory/saveEquipment

请求方式：POST

接口描述：添加产品建模信息

### 3.5.2请求参数

请求参数格式：application/json 
请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| equipmentName| string|设备     | 是  |    |
| equipmentCode| string|编码     | 是  |  这里没做好，因为绑定了工厂id所以这里只能是当前工厂的id，无法自由编辑  |
| equipmentModel| string     | 型号     |   是 |     |
|productionDate| string| 生产日期   | | |
|productionBatch| string|生产批号                | | |
|manufacturer| string|制造商           | |  |
请求数据样例：
```
{
"equipmentName": "焊接机器人111",
"equipmentCode": "3",
"equipmentModel": "WR-500111",
"productionDate": "2023-05-10",
"productionBatch": "BATCH-202305111"
"manufacturer": "ABB Robotics111",
}
```
### 3.5.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
响应数据样例：
```
{

"code": 200,

"msg": "新增成功",

"data": null

}
```
## 3.6添加工厂建模
### 3.6.1基本信息

请求路径：/factory/saveFactory

请求方式：POST

接口描述：添加工厂建模,无法同时添加产品建模

### 3.6.2请求参数

请求参数格式：application/json 
请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| productionLine| string|生产线名称     | 是  |    |
| product| string|产品     | 是  |   |
| productModel| string     | 产品型号    |    |   从物料接口获得  |
|productSpecification| string| 产品规格   | | 从物料接口获得|
|description| string| 描述   | | |
|materialId| string|物料id               | |从物料接口获得 |
|productUnit| string|单位           | | 从物料接口获得 |
请求数据样例：
```
{

"productionLine": "bbb",

"product": "bbb",

"productModel": "bbb",

"productSpecification": "bbb",

"description": "bbb",

"materialId": 2022,

"productUnit": "个"

}
```
### 3.6.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
响应数据样例：
```
{

"code": 200,

"msg": "新增成功",

"data": null

}
```
## 3.7删除工厂建模
### 3.7.1基本信息

请求路径：/factory/deleteFactoryById/{id}

请求方式：DELETE

接口描述：按id删除工厂建模

### 3.7.2请求参数

请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| id| number|生产线id     | 是  |    |
请求数据样例：
/factory/deleteFactoryById/11
### 3.7.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
响应数据样例：
```
{

"code": 200,

"msg": "删除成功",

"data": null

}
```
## 3.8删除产品建模
### 3.8.1基本信息

请求路径：/factory/deleteEquipmentById/{id}

请求方式：DELETE

接口描述：按id删除产品建模

### 3.8.2请求参数

请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| id| number|设备id      | 是  |    |
请求数据样例：
/factory/deleteFactoryById/10
### 3.8.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
响应数据样例：
```
{

"code": 200,

"msg": "删除成功",

"data": null

}
```
# 4.工艺建模接口

## 4.1获取工艺建模数据列表
### 4.1.1基本信息

请求路径：/process/getProcessModeling

请求方式：GET

接口描述：获取工艺建模所有数据，可以按工艺名称查询(分页查询)

### 4.1.2请求参数
请求参数格式：queryString 
请求参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| pageNumber| number          | 当前所在页          |
| pageSize| number          | 页面大小     |
| search| string| 搜索内容       |
请求数据样例：
pageNumber=1&pageSize=10
或
pageNumber=1&pageSize=10&search=焊接
```备注：search非必须,用以查询生成线名称```
### 4.1.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| processId| number          | 工艺id         |
| processName| string| 工艺名称     |
| product|string   |产品        |
| model| string      | 型号，按产品名称从工厂建模表查询                |
| specification| string    | 规格，按产品名称从工厂建模表查询                   |
| Unit   | string   | 单位，按产品名称从工厂建模表查询                   |
| powerConsumption| number     | 单位耗电量             |
| remark| string |备注             |
| processDescription| string | 描述               |

响应数据样例：
```
[

{

"processId": 1,

"processName": "焊接工艺",

"product": "产品A",

"model": "型号A1",

"specification": "规格A1",

"unit": "吨",

"powerConsumption": 11.50,

"remark": "高温焊接工艺",

"processDescription": "适用于金属连接的高温焊接工艺，精度高",

"createdAt": "2024-11-26 19:26:48",

"updatedAt": "2024-11-26 20:51:08"

}

]
```
## 4.2修改工艺建模
### 4.2.1基本信息

请求路径：/process/updateProcess

请求方式：PUT

接口描述：修改工艺建模

### 4.2.2请求参数

请求参数格式：application/json 
请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| processId| number|工艺id      | 是  |    |
| processName| string|工艺名称       | 是  |    |
| product| string     | 产品       |   是 |   与工厂表的产品名称绑定  |
|powerConsumption| number| 单位耗电量   | |  |
|remark| string| 备注                | |  |
|processDescription| string|描述              | |  |
请求数据样例：
```
{

"processId": 1,

"processName": "焊接工艺",

"product": "产品A",

"powerConsumption": 100,

"remark": "高温焊接工艺",

"processDescription": "适用于金属连接的高温焊接工艺，精度高"

}
```
### 4.2.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |

响应数据样例：
```
{

"code": 200,

"msg": "更新成功",

"data": null

}
```
## 4.3添加工艺建模
### 4.3.1基本信息

请求路径：/process/saveProcess

请求方式：POST

接口描述：添加工艺建模

### 4.3.2请求参数

请求参数格式：application/json 
请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| processName| string|工艺名称       | 是  |    |
| product| string     | 产品       |   是 |   与工厂表的产品名称绑定  |
|powerConsumption| number| 单位耗电量   | |  |
|remark| string| 备注                | |  |
|processDescription| string|描述              | |  |
请求数据样例：
```
{

"processName": "111",

"product": "111",

"powerConsumption": 111,

"remark": "111",

"processDescription": "111"

}
```
### 4.3.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |

响应数据样例：
```
{

"code": 200,

"msg": "添加成功",

"data": null

}
```
## 4.4删除工艺建模信息
### 4.4.1基本信息

请求路径：/process/deleteProcessById/{id}

请求方式：DELETE

接口描述：删除工艺建模信息

### 4.4.2请求参数

请求参数说明：
| **参数名称**   | **类型** | **说明** | **是否必须** | **备注** |
| -------------------- | ------------ | ------------------- |------------ |------------|
| id| number|工艺id     | 是  |    |
请求数据样例：
/process/deleteProcessById/7
### 4.4.3响应数据

响应数据类型：application/json

响应参数说明：
| **字段**             | **数据类型** | **备注**                 |
| -------------------- | ------------ | ------------------------ |
| code   			  	| number          | 响应码，200成功          |
| msg 				| string| 提示信息       |
| data       | object     | 返回的数据         |
响应数据样例：
```
{

"code": 200,

"msg": "删除成功",

"data": null

}
```
