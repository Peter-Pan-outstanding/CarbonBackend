# 登录
所有的请求都需要登录后访问

**请求：**

```http
POST http://localhost:8080/auth/login
Content-Type: application/x-www-form-urlencoded

username=test&password=123456
```

**响应示例：**
```json
{
  "code": 200,
  "msg": "登录成功",
  "data": {
    "id": 1,
    "username": "test",
    "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6MSwiZXhwIjoxNzMzMzE4Njk2LCJpYXQiOjE3MzI3MTM4OTYsImp0aSI6IjE0NzcxZmYzLTU3OTEtNGRhZC1iNWNiLWQ0OTljMzA3YWE5YSIsImF1dGhvcml0aWVzIjpbXSwidXNlcm5hbWUiOiJ0ZXN0In0.uix5ZNgoGqwFG2RMRZjWngkQuJivaw8DxyQAjdXBiJw"
  }
}
```


# **energyAlerts**

## **1 根据 ID 查询**

**请求：**

```http
GET http://localhost:8080/energyAlerts/getEnergyAlertById/1
```

**接口方法：**

```java
public Result<EnergyAlert> getEnergyAlertById(@PathVariable Integer id)
```

**响应示例：**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": 1,
    "monitoringPointName": "电站A",
    "monitoringPointAddress": "北京市海淀区",
    "realTimePower": 120.5,
    "realTimeVoltage": 220.0,
    "status": "NORMAL",
    "reportTime": "2024-11-26T00:07:46",
    "notes": "正常运行",
    "createdAt": "2024-11-26T00:07:46",
    "updatedAt": "2024-11-26T00:07:46"
  }
}
```

------



## **2 查询所有记录**

**请求：**

```http
GET http://localhost:8080/energyAlerts/getAllEnergyAlerts
```

**接口方法：**

```java
public Result<List<EnergyAlert>> getAllEnergyAlerts()
```

**响应示例：**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "monitoringPointName": "电站A",
      "monitoringPointAddress": "北京市海淀区",
      "realTimePower": 120.5,
      "realTimeVoltage": 220.0,
      "status": "NORMAL",
      "reportTime": "2024-11-26T00:07:46",
      "notes": "正常运行",
      "createdAt": "2024-11-26T00:07:46",
      "updatedAt": "2024-11-26T00:07:46"
    },
    ...
  ]
}
```

------



## **3 带条件查询**

**请求：**

```http
GET http://localhost:8080/energyAlerts/getEnergyAlertsByConditions?monitoringPointName=英伟达&monitoringPointAddress=台北市&status=0
```

**接口方法：**

```java
public Result<List<EnergyAlert>> getEnergyAlertsByConditions(
    @RequestParam(required = false) String monitoringPointName,
    @RequestParam(required = false) String monitoringPointAddress,
    @RequestParam(required = false) Integer status
)
```

**响应示例：**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 6,
      "monitoringPointName": "英伟达",
      "monitoringPointAddress": "台北市",
      "realTimePower": 200.0,
      "realTimeVoltage": 200.0,
      "status": "NORMAL",
      "reportTime": null,
      "notes": "测试数据",
      "createdAt": "2024-11-26T00:56:19",
      "updatedAt": "2024-11-26T00:56:19"
    }
  ]
}
```

------



## **4 分页查询**

**请求：**

```http
GET http://localhost:8080/energyAlerts/getEnergyAlertsWithPagination?pageNumber=2&pageSize=3
```

**接口方法：**

```java
public Result<HashMap<String, Object>> getEnergyAlertsWithPagination(
    @RequestParam(defaultValue = "1") int pageNumber,
    @RequestParam(defaultValue = "10") int pageSize
)
```

**响应示例：**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "total": 7,
    "records": [
      {
        "id": 4,
        "monitoringPointName": "电站D",
        "monitoringPointAddress": "深圳市福田区",
        "realTimePower": 150.7,
        "realTimeVoltage": 215.0,
        "status": "MAINTENANCE",
        "reportTime": "2024-11-26T00:07:46",
        "notes": "正在维护",
        "createdAt": "2024-11-26T00:07:46",
        "updatedAt": "2024-11-26T00:07:46"
      }
    ]
  }
}
```

------



## **5 新增记录**

**请求：**

```http
POST http://localhost:8080/energyAlerts/saveEnergyAlert
Content-Type: application/json
```

**请求体：**

```json
{
  "monitoringPointName": "测试项目名",
  "monitoringPointAddress": "测试地址",
  "realTimePower": 900,
  "realTimeVoltage": 1000,
  "status": "NORMAL",
  "reportTime": "2023-10-10T13:45:12",
  "notes": "测试备注"
}
```

**接口方法：**

```java
public Result<?> saveEnergyAlert(@RequestBody EnergyAlert alert)
```

**响应示例：**

```json
{
  "code": 200,
  "msg": "新增成功",
  "data": null
}
```

------



## **6 根据 ID 更新**

**请求：**

```http
PUT http://localhost:8080/energyAlerts/updateEnergyAlertById
Content-Type: application/json
```

**请求体（仅填写需要更新的字段）：**

```json
{
  "id": 10,
  "monitoringPointName": "最新的检测点"
}
```

**接口方法：**

```java
public Result<?> updateEnergyAlertById(@RequestBody EnergyAlert alert)
```

------



## **7 根据 ID 删除**

**请求：**

```http
DELETE http://localhost:8080/energyAlerts/deleteEnergyAlertById/10
```

**接口方法：**

```java
public Result<?> deleteEnergyAlertById(@PathVariable Integer id)
```

**响应示例：**

```json
{
  "code": 200,
  "msg": "删除成功",
  "data": null
}
```

------



#  ProjectMaintenance

## 1. 根据 ID 查询项目

**请求方式:**
`GET /projectMaintenance/getProjectById/{id}`

**示例请求:**
`GET http://localhost:8080/projectMaintenance/getProjectById/1`

**响应示例:**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": {
    "id": 1,
    "projectName": "太阳能项目",
    "manager": "张小丽",
    "startDate": "2024-01-10",
    "endDate": "2024-06-15",
    "status": "IN_PROGRESS",
    "createdAt": "2024-11-26T10:31:00",
    "updatedAt": "2024-11-26T10:31:00"
  }
}
```

**控制器方法:**

```java
public Result<ProjectMaintenance> getProjectById(@PathVariable Integer id)
```

------



## 2. 查询所有项目

**请求方式:**
`GET /projectMaintenance/getAllProjects`

**示例请求:**
`GET http://localhost:8080/projectMaintenance/getAllProjects`

**响应示例:**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "projectName": "太阳能项目",
      "manager": "张小丽",
      "startDate": "2024-01-10",
      "endDate": "2024-06-15",
      "status": "IN_PROGRESS",
      "createdAt": "2024-11-26T10:31:00",
      "updatedAt": "2024-11-26T10:31:00"
    },
    {
      "id": 2,
      "projectName": "风力发电扩展",
      "manager": "李明",
      "startDate": "2024-03-05",
      "endDate": null,
      "status": "IN_PROGRESS",
      "createdAt": "2024-11-26T10:31:00",
      "updatedAt": "2024-11-26T10:31:00"
    }
  ]
}
```

**控制器方法:**

```java
public Result<List<ProjectMaintenance>> getAllProjects()
```

------



## 3. 条件查询项目

**请求方式:**
`GET /projectMaintenance/getProjectsByFilters`

**示例请求:**
`GET http://localhost:8080/projectMaintenance/getProjectsByFilters?startDateStart=2024-01-01&startDateEnd=2024-02-01&endDateStart=2024-06-01&endDateEnd=2024-11-01`

**响应示例:**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 1,
      "projectName": "太阳能项目",
      "manager": "张小丽",
      "startDate": "2024-01-10",
      "endDate": "2024-06-15",
      "status": "IN_PROGRESS",
      "createdAt": "2024-11-26T10:31:00",
      "updatedAt": "2024-11-26T10:31:00"
    }
  ]
}
```

**控制器方法:**

```java
public Result<List<ProjectMaintenance>> getProjectsByFilters(
    @RequestParam(required = false) String projectName,
    @RequestParam(required = false) @DateTimeFormat(pattern = "yyyy-MM-dd") LocalDate startDateStart,
    @RequestParam(required = false) @DateTimeFormat(pattern = "yyyy-MM-dd") LocalDate startDateEnd,
    @RequestParam(required = false) @DateTimeFormat(pattern = "yyyy-MM-dd") LocalDate endDateStart,
    @RequestParam(required = false) @DateTimeFormat(pattern = "yyyy-MM-dd") LocalDate endDateEnd,
    @RequestParam(required = false) Integer status
)
```

------



## 4. 分页查询项目

**请求方式:**
`GET /projectMaintenance/getProjectsWithPagination`

**示例请求:**
`GET http://localhost:8080/projectMaintenance/getProjectsWithPagination?pageNumber=2&pageSize=2`

**响应示例:**

```json
{
  "code": 200,
  "msg": "操作成功",
  "data": [
    {
      "id": 3,
      "projectName": "水电维护项目",
      "manager": "王芳",
      "startDate": "2023-12-01",
      "endDate": "2024-05-20",
      "status": "COMPLETED",
      "createdAt": "2024-11-26T10:31:00",
      "updatedAt": "2024-11-26T10:31:00"
    }
  ]
}
```

**控制器方法:**

```java
@GetMapping("/getProjectsWithPagination")
public Result<HashMap<String, Object>> getProjectsWithPagination(
    @RequestParam(defaultValue = "1") int pageNumber,
    @RequestParam(defaultValue = "10") int pageSize
)
```

------



## 5. 新增项目

**请求方式:**
`POST /projectMaintenance/saveProject`
**Content-Type:** `application/json`

**示例请求体:**

```json
{
  "projectName": "测试项目",
  "manager": "测试经理",
  "startDate": "2024-01-10",
  "endDate": "2024-06-09",
  "status": "IN_PROGRESS"
}
```

**响应示例:**

```json
{
  "code": 200,
  "msg": "新增成功",
  "data": null
}
```

**控制器方法:**

```java
public Result<?> saveProject(@RequestBody ProjectMaintenance project)
```

------



## 6. 根据 ID 更新项目

**请求方式:**
`PUT /projectMaintenance/updateProjectById`
**Content-Type:** `application/json`

**示例请求体:**

```json
{
  "id": 12,
  "projectName": "更新的项目名"
}
```

**响应示例:**

```json
{
  "code": 200,
  "msg": "更新成功",
  "data": null
}
```

**控制器方法:**

```java
public Result<?> updateProjectById(@RequestBody ProjectMaintenance project)
```

------



## 7. 根据 ID 删除项目

**请求方式:**
`DELETE /projectMaintenance/deleteProjectById/{id}`

**示例请求:**
`DELETE http://localhost:8080/projectMaintenance/deleteProjectById/12`

**响应示例:**

```json
{
  "code": 200,
  "msg": "删除成功",
  "data": null
}
```

**控制器方法:**

```java
public Result<?> deleteProjectById(@PathVariable Integer id)
```

------